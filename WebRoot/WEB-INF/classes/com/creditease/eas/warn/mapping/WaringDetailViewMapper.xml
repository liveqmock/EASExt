<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.creditease.eas.warn.dao.WaringDetailViewMapper">
  <resultMap id="BaseResultMap" type="com.creditease.eas.warn.bean.WaringDetailView" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Dec 31 10:18:58 CST 2012.
    -->
    <result column="ID" property="id" jdbcType="DECIMAL" />
    <result column="TYPEID" property="typeid" jdbcType="DECIMAL" />
    <result column="WAYID" property="wayid" jdbcType="DECIMAL" />
    <result column="SENDTIME" property="sendtime" jdbcType="TIMESTAMP" />
    <result column="CELL" property="cell" jdbcType="VARCHAR" />
    <result column="BIRTHDAY" property="birthday" jdbcType="TIMESTAMP" />
    <result column="ENTERDATE" property="enterdate" jdbcType="TIMESTAMP" />
    <result column="DEPARTID" property="departid" jdbcType="VARCHAR" />
    <result column="DEPARTNAME" property="departname" jdbcType="VARCHAR" />
    <result column="POSTID" property="postid" jdbcType="VARCHAR" />
    <result column="POSTNAME" property="postname" jdbcType="VARCHAR" />
    <result column="RECEIVERIDS" property="receiverids" jdbcType="VARCHAR" />
    <result column="RECEIVER" property="receiver" jdbcType="VARCHAR" />
    <result column="EMAIL" property="email" jdbcType="VARCHAR" />
    <result column="COPYIDS" property="copyids" jdbcType="VARCHAR" />
    <result column="COPYPERSON" property="copyperson" jdbcType="VARCHAR" />
    <result column="THEME" property="theme" jdbcType="VARCHAR" />
    <result column="CONTENTADDRESS" property="contentaddress" jdbcType="VARCHAR" />
    <result column="ISSEND" property="issend" jdbcType="DECIMAL" />
    <result column="SENDCOUNT" property="sendcount" jdbcType="DECIMAL" />
    <result column="CREATIME" property="creatime" jdbcType="TIMESTAMP" />
    <result column="EXT1" property="ext1" jdbcType="VARCHAR" />
    <result column="EXT2" property="ext2" jdbcType="VARCHAR" />
    <result column="EXT3" property="ext3" jdbcType="VARCHAR" />
    <result column="EXT4" property="ext4" jdbcType="VARCHAR" />
    <result column="EXT5" property="ext5" jdbcType="VARCHAR" />
    <result column="EXT6" property="ext6" jdbcType="VARCHAR" />
    <result column="EXT7" property="ext7" jdbcType="VARCHAR" />
    <result column="EXT8" property="ext8" jdbcType="VARCHAR" />
    <result column="EXT9" property="ext9" jdbcType="VARCHAR" />
    <result column="EXT10" property="ext10" jdbcType="VARCHAR" />
    <result column="EXT11" property="ext11" jdbcType="VARCHAR" />
    <result column="EXT12" property="ext12" jdbcType="VARCHAR" />
    <result column="EXT13" property="ext13" jdbcType="VARCHAR" />
    <result column="EXT14" property="ext14" jdbcType="VARCHAR" />
    <result column="EXT15" property="ext15" jdbcType="VARCHAR" />
    <result column="EXT16" property="ext16" jdbcType="VARCHAR" />
    <result column="EXT17" property="ext17" jdbcType="VARCHAR" />
    <result column="EXT18" property="ext18" jdbcType="VARCHAR" />
    <result column="EXT19" property="ext19" jdbcType="VARCHAR" />
    <result column="EXT20" property="ext20" jdbcType="VARCHAR" />
    <result column="CELLCONTENT" property="cellcontent" jdbcType="VARCHAR" />
    <result column="FILENAME" property="filename" jdbcType="VARCHAR" />
    <result column="WAYNAME" property="wayname" jdbcType="VARCHAR" />
    <result column="TYPENAME" property="typename" jdbcType="VARCHAR" />
  </resultMap>
  <insert id="insert" parameterType="com.creditease.eas.warn.bean.WaringDetailView" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Dec 31 10:18:58 CST 2012.
    -->
    insert into V_WARING_DETAIL (ID, TYPEID, WAYID, 
      SENDTIME, CELL, BIRTHDAY, 
      ENTERDATE, DEPARTID, DEPARTNAME, 
      POSTID, POSTNAME, RECEIVERIDS, 
      RECEIVER, EMAIL, COPYIDS, 
      COPYPERSON, THEME, CONTENTADDRESS, 
      ISSEND, SENDCOUNT, CREATIME, 
      EXT1, EXT2, EXT3, EXT4, 
      EXT5, EXT6, EXT7, EXT8, 
      EXT9, EXT10, EXT11, 
      EXT12, EXT13, EXT14, 
      EXT15, EXT16, EXT17, 
      EXT18, EXT19, EXT20, 
      CELLCONTENT, FILENAME, WAYNAME, 
      TYPENAME)
    values (#{id,jdbcType=DECIMAL}, #{typeid,jdbcType=DECIMAL}, #{wayid,jdbcType=DECIMAL}, 
      #{sendtime,jdbcType=TIMESTAMP}, #{cell,jdbcType=VARCHAR}, #{birthday,jdbcType=TIMESTAMP}, 
      #{enterdate,jdbcType=TIMESTAMP}, #{departid,jdbcType=VARCHAR}, #{departname,jdbcType=VARCHAR}, 
      #{postid,jdbcType=VARCHAR}, #{postname,jdbcType=VARCHAR}, #{receiverids,jdbcType=VARCHAR}, 
      #{receiver,jdbcType=VARCHAR}, #{email,jdbcType=VARCHAR}, #{copyids,jdbcType=VARCHAR}, 
      #{copyperson,jdbcType=VARCHAR}, #{theme,jdbcType=VARCHAR}, #{contentaddress,jdbcType=VARCHAR}, 
      #{issend,jdbcType=DECIMAL}, #{sendcount,jdbcType=DECIMAL}, #{creatime,jdbcType=TIMESTAMP}, 
      #{ext1,jdbcType=VARCHAR}, #{ext2,jdbcType=VARCHAR}, #{ext3,jdbcType=VARCHAR}, #{ext4,jdbcType=VARCHAR}, 
      #{ext5,jdbcType=VARCHAR}, #{ext6,jdbcType=VARCHAR}, #{ext7,jdbcType=VARCHAR}, #{ext8,jdbcType=VARCHAR}, 
      #{ext9,jdbcType=VARCHAR}, #{ext10,jdbcType=VARCHAR}, #{ext11,jdbcType=VARCHAR}, 
      #{ext12,jdbcType=VARCHAR}, #{ext13,jdbcType=VARCHAR}, #{ext14,jdbcType=VARCHAR}, 
      #{ext15,jdbcType=VARCHAR}, #{ext16,jdbcType=VARCHAR}, #{ext17,jdbcType=VARCHAR}, 
      #{ext18,jdbcType=VARCHAR}, #{ext19,jdbcType=VARCHAR}, #{ext20,jdbcType=VARCHAR}, 
      #{cellcontent,jdbcType=VARCHAR}, #{filename,jdbcType=VARCHAR}, #{wayname,jdbcType=VARCHAR}, 
      #{typename,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.creditease.eas.warn.bean.WaringDetailView">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Dec 31 10:18:58 CST 2012.
    -->
    insert into V_WARING_DETAIL
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        ID,
      </if>
      <if test="typeid != null" >
        TYPEID,
      </if>
      <if test="wayid != null" >
        WAYID,
      </if>
      <if test="sendtime != null" >
        SENDTIME,
      </if>
      <if test="cell != null" >
        CELL,
      </if>
      <if test="birthday != null" >
        BIRTHDAY,
      </if>
      <if test="enterdate != null" >
        ENTERDATE,
      </if>
      <if test="departid != null" >
        DEPARTID,
      </if>
      <if test="departname != null" >
        DEPARTNAME,
      </if>
      <if test="postid != null" >
        POSTID,
      </if>
      <if test="postname != null" >
        POSTNAME,
      </if>
      <if test="receiverids != null" >
        RECEIVERIDS,
      </if>
      <if test="receiver != null" >
        RECEIVER,
      </if>
      <if test="email != null" >
        EMAIL,
      </if>
      <if test="copyids != null" >
        COPYIDS,
      </if>
      <if test="copyperson != null" >
        COPYPERSON,
      </if>
      <if test="theme != null" >
        THEME,
      </if>
      <if test="contentaddress != null" >
        CONTENTADDRESS,
      </if>
      <if test="issend != null" >
        ISSEND,
      </if>
      <if test="sendcount != null" >
        SENDCOUNT,
      </if>
      <if test="creatime != null" >
        CREATIME,
      </if>
      <if test="ext1 != null" >
        EXT1,
      </if>
      <if test="ext2 != null" >
        EXT2,
      </if>
      <if test="ext3 != null" >
        EXT3,
      </if>
      <if test="ext4 != null" >
        EXT4,
      </if>
      <if test="ext5 != null" >
        EXT5,
      </if>
      <if test="ext6 != null" >
        EXT6,
      </if>
      <if test="ext7 != null" >
        EXT7,
      </if>
      <if test="ext8 != null" >
        EXT8,
      </if>
      <if test="ext9 != null" >
        EXT9,
      </if>
      <if test="ext10 != null" >
        EXT10,
      </if>
      <if test="ext11 != null" >
        EXT11,
      </if>
      <if test="ext12 != null" >
        EXT12,
      </if>
      <if test="ext13 != null" >
        EXT13,
      </if>
      <if test="ext14 != null" >
        EXT14,
      </if>
      <if test="ext15 != null" >
        EXT15,
      </if>
      <if test="ext16 != null" >
        EXT16,
      </if>
      <if test="ext17 != null" >
        EXT17,
      </if>
      <if test="ext18 != null" >
        EXT18,
      </if>
      <if test="ext19 != null" >
        EXT19,
      </if>
      <if test="ext20 != null" >
        EXT20,
      </if>
      <if test="cellcontent != null" >
        CELLCONTENT,
      </if>
      <if test="filename != null" >
        FILENAME,
      </if>
      <if test="wayname != null" >
        WAYNAME,
      </if>
      <if test="typename != null" >
        TYPENAME,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=DECIMAL},
      </if>
      <if test="typeid != null" >
        #{typeid,jdbcType=DECIMAL},
      </if>
      <if test="wayid != null" >
        #{wayid,jdbcType=DECIMAL},
      </if>
      <if test="sendtime != null" >
        #{sendtime,jdbcType=TIMESTAMP},
      </if>
      <if test="cell != null" >
        #{cell,jdbcType=VARCHAR},
      </if>
      <if test="birthday != null" >
        #{birthday,jdbcType=TIMESTAMP},
      </if>
      <if test="enterdate != null" >
        #{enterdate,jdbcType=TIMESTAMP},
      </if>
      <if test="departid != null" >
        #{departid,jdbcType=VARCHAR},
      </if>
      <if test="departname != null" >
        #{departname,jdbcType=VARCHAR},
      </if>
      <if test="postid != null" >
        #{postid,jdbcType=VARCHAR},
      </if>
      <if test="postname != null" >
        #{postname,jdbcType=VARCHAR},
      </if>
      <if test="receiverids != null" >
        #{receiverids,jdbcType=VARCHAR},
      </if>
      <if test="receiver != null" >
        #{receiver,jdbcType=VARCHAR},
      </if>
      <if test="email != null" >
        #{email,jdbcType=VARCHAR},
      </if>
      <if test="copyids != null" >
        #{copyids,jdbcType=VARCHAR},
      </if>
      <if test="copyperson != null" >
        #{copyperson,jdbcType=VARCHAR},
      </if>
      <if test="theme != null" >
        #{theme,jdbcType=VARCHAR},
      </if>
      <if test="contentaddress != null" >
        #{contentaddress,jdbcType=VARCHAR},
      </if>
      <if test="issend != null" >
        #{issend,jdbcType=DECIMAL},
      </if>
      <if test="sendcount != null" >
        #{sendcount,jdbcType=DECIMAL},
      </if>
      <if test="creatime != null" >
        #{creatime,jdbcType=TIMESTAMP},
      </if>
      <if test="ext1 != null" >
        #{ext1,jdbcType=VARCHAR},
      </if>
      <if test="ext2 != null" >
        #{ext2,jdbcType=VARCHAR},
      </if>
      <if test="ext3 != null" >
        #{ext3,jdbcType=VARCHAR},
      </if>
      <if test="ext4 != null" >
        #{ext4,jdbcType=VARCHAR},
      </if>
      <if test="ext5 != null" >
        #{ext5,jdbcType=VARCHAR},
      </if>
      <if test="ext6 != null" >
        #{ext6,jdbcType=VARCHAR},
      </if>
      <if test="ext7 != null" >
        #{ext7,jdbcType=VARCHAR},
      </if>
      <if test="ext8 != null" >
        #{ext8,jdbcType=VARCHAR},
      </if>
      <if test="ext9 != null" >
        #{ext9,jdbcType=VARCHAR},
      </if>
      <if test="ext10 != null" >
        #{ext10,jdbcType=VARCHAR},
      </if>
      <if test="ext11 != null" >
        #{ext11,jdbcType=VARCHAR},
      </if>
      <if test="ext12 != null" >
        #{ext12,jdbcType=VARCHAR},
      </if>
      <if test="ext13 != null" >
        #{ext13,jdbcType=VARCHAR},
      </if>
      <if test="ext14 != null" >
        #{ext14,jdbcType=VARCHAR},
      </if>
      <if test="ext15 != null" >
        #{ext15,jdbcType=VARCHAR},
      </if>
      <if test="ext16 != null" >
        #{ext16,jdbcType=VARCHAR},
      </if>
      <if test="ext17 != null" >
        #{ext17,jdbcType=VARCHAR},
      </if>
      <if test="ext18 != null" >
        #{ext18,jdbcType=VARCHAR},
      </if>
      <if test="ext19 != null" >
        #{ext19,jdbcType=VARCHAR},
      </if>
      <if test="ext20 != null" >
        #{ext20,jdbcType=VARCHAR},
      </if>
      <if test="cellcontent != null" >
        #{cellcontent,jdbcType=VARCHAR},
      </if>
      <if test="filename != null" >
        #{filename,jdbcType=VARCHAR},
      </if>
      <if test="wayname != null" >
        #{wayname,jdbcType=VARCHAR},
      </if>
      <if test="typename != null" >
        #{typename,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <!-- sql片段，查询的时候使用 -->
   <sql id="BaseWhereCondition">
   		 	<if test="begin != null and begin!=''">
				and sendTime &gt;= #{begin}
			</if>
			 <if test="end != null and end!=''">
				and  sendTime &lt;= #{end}
			</if>
			<if test="receiver != null and receiver!=''">
				and  receiver like #{receiver}
			</if>
			<if test="departname != null and departname!=''">
				and  departname like #{departname}
			</if>
			<if test="postname != null and postname!=''">
				and  postname = #{postname}
			</if>
			<if test="theme != null and theme !=''">
				and  theme like #{theme}
			</if>
			<if test="typeid != null and typeid!='' and typeid!=0">
				and TYPEID = #{typeid}
			</if>
			<if test="wayid != null and wayid!='' and wayid!=0">
				and wayid = #{wayid}
			</if>
			<if test="issend != null and issend!=''">
				and issend = #{issend}
			</if>
   </sql>
  <!-- 带参数的查询 -->
	<select id="getTotalCountsByParams" resultType="int" parameterType="map">  
            select count(*) from V_WARING_DETAIL where 1=1
          	<include refid="BaseWhereCondition"/>
  	</select>
	<select id="queryPageByParams" resultMap="BaseResultMap" parameterType="map">
	  select * FROM(select ROWNUM as ROWNO,t.* from (Select ID,TYPEID,WAYID,wayname,typename,SENDTIME,DEPARTID,DEPARTNAME,postid,postname,receiverids
      ,receiver,email,cell,theme,ext1,ext2,issend,sendcount from V_WARING_DETAIL where 1=1
      <include refid="BaseWhereCondition"/>
      order by ID desc) t where <![CDATA[ ROWNUM <= #{endRow,jdbcType=INTEGER}]]>)
      where ROWNO>= #{startRow,jdbcType=INTEGER}  
	</select>
	<!-- 查询导出excel的数据集 -->
	<select id="queryByParams" resultMap="BaseResultMap" parameterType="map">
		select * from V_WARING_DETAIL WHERE 1=1
		<include refid="BaseWhereCondition"/>
	</select>
	
	 <update id="updateByPrimaryKeySelective" parameterType="com.creditease.eas.warn.bean.WaringDetail" >
	    update T_WARINGDETAIL  
	    <set >
			  <if test="typeid != null" >
		        #{typeid,jdbcType=DECIMAL},
		      </if>
		      <if test="wayid != null" >
		        #{wayid,jdbcType=DECIMAL},
		      </if>
		      <if test="sendtime != null" >
		        #{sendtime,jdbcType=TIMESTAMP},
		      </if>
		      <if test="cell != null" >
		        #{cell,jdbcType=VARCHAR},
		      </if>
		      <if test="birthday != null" >
		        #{birthday,jdbcType=TIMESTAMP},
		      </if>
		      <if test="enterdate != null" >
		        #{enterdate,jdbcType=TIMESTAMP},
		      </if>
<!--		      <if test="departid != null" >-->
<!--		        #{departid,jdbcType=VARCHAR},-->
<!--		      </if>-->
<!--		      <if test="departname != null" >-->
<!--		        #{departname,jdbcType=VARCHAR},-->
<!--		      </if>-->
<!--		      <if test="postid != null" >-->
<!--		        #{postid,jdbcType=VARCHAR},-->
<!--		      </if>-->
<!--		      <if test="postname != null" >-->
<!--		        #{postname,jdbcType=VARCHAR},-->
<!--		      </if>-->
		      <if test="receiverids != null" >
		        #{receiverids,jdbcType=VARCHAR},
		      </if>
		      <if test="receiver != null" >
		        #{receiver,jdbcType=VARCHAR},
		      </if>
		      <if test="email != null" >
		        #{email,jdbcType=VARCHAR},
		      </if>
		      <if test="copyids != null" >
		        #{copyids,jdbcType=VARCHAR},
		      </if>
		      <if test="copyperson != null" >
		        #{copyperson,jdbcType=VARCHAR},
		      </if>
		      <if test="theme != null" >
		        #{theme,jdbcType=VARCHAR},
		      </if>
		      <if test="contentaddress != null" >
		        #{contentaddress,jdbcType=VARCHAR},
		      </if>
		      <if test="issend != null" >
		        #{issend,jdbcType=DECIMAL},
		      </if>
		      <if test="sendcount != null" >
		        #{sendcount,jdbcType=DECIMAL},
		      </if>
		      <if test="creatime != null" >
		        #{creatime,jdbcType=TIMESTAMP},
		      </if>
		      <if test="ext1 != null" >
		        #{ext1,jdbcType=VARCHAR},
		      </if>
		      <if test="ext2 != null" >
		        #{ext2,jdbcType=VARCHAR},
		      </if>
		      <if test="ext3 != null" >
		        #{ext3,jdbcType=VARCHAR},
		      </if>
		      <if test="ext4 != null" >
		        #{ext4,jdbcType=VARCHAR},
		      </if>
		      <if test="ext5 != null" >
		        #{ext5,jdbcType=VARCHAR},
		      </if>
		      <if test="ext6 != null" >
		        #{ext6,jdbcType=VARCHAR},
		      </if>
		      <if test="ext7 != null" >
		        #{ext7,jdbcType=VARCHAR},
		      </if>
		      <if test="ext8 != null" >
		        #{ext8,jdbcType=VARCHAR},
		      </if>
		      <if test="ext9 != null" >
		        #{ext9,jdbcType=VARCHAR},
		      </if>
		      <if test="ext10 != null" >
		        #{ext10,jdbcType=VARCHAR},
		      </if>
		      <if test="ext11 != null" >
		        #{ext11,jdbcType=VARCHAR},
		      </if>
		      <if test="ext12 != null" >
		        #{ext12,jdbcType=VARCHAR},
		      </if>
		      <if test="ext13 != null" >
		        #{ext13,jdbcType=VARCHAR},
		      </if>
		      <if test="ext14 != null" >
		        #{ext14,jdbcType=VARCHAR},
		      </if>
		      <if test="ext15 != null" >
		        #{ext15,jdbcType=VARCHAR},
		      </if>
		      <if test="ext16 != null" >
		        #{ext16,jdbcType=VARCHAR},
		      </if>
		      <if test="ext17 != null" >
		        #{ext17,jdbcType=VARCHAR},
		      </if>
		      <if test="ext18 != null" >
		        #{ext18,jdbcType=VARCHAR},
		      </if>
		      <if test="ext19 != null" >
		        #{ext19,jdbcType=VARCHAR},
		      </if>
		      <if test="ext20 != null" >
		        #{ext20,jdbcType=VARCHAR},
		      </if>
		      <if test="cellcontent != null" >
		        #{cellcontent,jdbcType=VARCHAR},
		      </if>
<!--		      <if test="filename != null" >-->
<!--		        #{filename,jdbcType=VARCHAR},-->
<!--		      </if>-->
<!--		      <if test="wayname != null" >-->
<!--		        #{wayname,jdbcType=VARCHAR},-->
<!--		      </if>-->
<!--		      <if test="typename != null" >-->
<!--		        #{typename,jdbcType=VARCHAR},-->
<!--		      </if>-->
	    </set>
	    where ID = #{id,jdbcType=DECIMAL}
  </update>
  
</mapper>